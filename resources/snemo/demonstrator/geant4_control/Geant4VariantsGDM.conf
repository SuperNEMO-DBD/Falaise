#@config The global dependency model of the variant configuration parameters for the 'simulation' repository
logging.priority : string = "fatal"
dependees.slots : integer[22] = 0 1 2 3 4 5 6 7 8 9 10 11 12 20 30 31 32 33 34 35 36 40
  dependees.slot_0.variant  : string = "geometry:layout/if_half_commissioning"
  dependees.slot_1.variant  : string = "geometry:layout/if_basic/source_calibration/is_active"
  dependees.slot_2.variant  : string = "geometry:layout/if_basic/shielding/is_on"
  dependees.slot_3.variant  : string = "geometry:layout/if_basic"
  dependees.slot_4.variant  : string = "geometry:layout/if_basic/source_layout/if_basic/material/if_ca48"
  dependees.slot_5.variant  : string = "geometry:layout/if_basic/source_layout/if_basic/material/if_se82"
  dependees.slot_6.variant  : string = "geometry:layout/if_basic/source_layout/if_basic/material/if_nd150"
  dependees.slot_7.variant  : string = "geometry:layout/if_basic/source_layout/if_basic/material/if_mo100"
  dependees.slot_8.variant  : string = "geometry:layout/if_basic/source_layout/if_basic/material/if_sn124"
  dependees.slot_9.variant  : string = "geometry:layout/if_basic/source_layout/if_basic"
  dependees.slot_10.variant : string = "geometry:layout/if_basic/source_layout/if_realistic_flat"
  dependees.slot_11.variant : string = "geometry:layout/if_basic/source_layout/if_realistic_snrs1"
  dependees.slot_12.variant : string = "vertexes:generator/if_source_of_se82_dbd"
  dependees.slot_20.variant : string = "geometry:layout/if_basic/source_calibration/is_active/type/if_bi207"
  dependees.slot_30.variant : string = "geometry:layout/if_basic/source_calibration/is_active/type/if_sds"
  dependees.slot_31.variant : string = "geometry:layout/if_basic/source_calibration/is_active/type/if_sds/track0/is_active"
  dependees.slot_32.variant : string = "geometry:layout/if_basic/source_calibration/is_active/type/if_sds/track1/is_active"
  dependees.slot_33.variant : string = "geometry:layout/if_basic/source_calibration/is_active/type/if_sds/track2/is_active"
  dependees.slot_34.variant : string = "geometry:layout/if_basic/source_calibration/is_active/type/if_sds/track3/is_active"
  dependees.slot_35.variant : string = "geometry:layout/if_basic/source_calibration/is_active/type/if_sds/track4/is_active"
  dependees.slot_36.variant : string = "geometry:layout/if_basic/source_calibration/is_active/type/if_sds/track5/is_active"
  # Note (FM, 2021-09-20) : Unused for now but could be to enforced only Bi207 primaries generation
  # when some or all parts of the realistic SDS is activated (weighted activities on specific calib. tracks).
  # This would suggest to add another dependency between the "vertexes:generator/if_source_of_se82_dbd" and
  # the primary generator set at "Bi207".
  dependees.slot_40.variant : string = "vertexes:generator/if_source_calibration_sds"

# Dependency groups:
dependencies : string[20] = \
  "HalfCommissioningVtxDep" \
  "ShieldingVtxDep" \
  "Tracker1VtxDep" \
  "SourceFoilBasicVtxDep" \
  "SourceFoilRealisticVtxDep"  \
  "SourceFoilRealisticFlatVtxDep"  \
  "SourceFoilRealisticSnrs1VtxDep"   \
  "CalibrationLegacyVtxDep" \
  "CalibrationSdsVtxDep"  \
  "CalibrationSdsVtxTrack0Dep"  \
  "CalibrationSdsVtxTrack1Dep"  \
  "CalibrationSdsVtxTrack2Dep"  \
  "CalibrationSdsVtxTrack3Dep"  \
  "CalibrationSdsVtxTrack4Dep"  \
  "CalibrationSdsVtxTrack5Dep" \
  "Ca48PrimariesDep" \
  "Se82PrimariesDep" \
  "Mo100PrimariesDep" \
  "Nd150PrimariesDep" \
  "Sn124PrimariesDep" 

####################################################
# Dependencies for some specific vertex generators #
####################################################

# The vertex generator group of values 'HalfCommissioning' is only enabled if the layout
# of the geometry corresponds to the half-detector for commissioning.
dependencies.HalfCommissioningVtxDep.depender : string     = "vertexes:generator@HalfCommissioning"
dependencies.HalfCommissioningVtxDep.slots    : integer[1] = 0
dependencies.HalfCommissioningVtxDep.logic    : string     = "[0]"

# The vertex generator group of values 'Shielding' is only enabled if the layout
# of the geometry has the shielding set
dependencies.ShieldingVtxDep.depender : string     = "vertexes:generator@Shielding"
dependencies.ShieldingVtxDep.slots    : integer[1] = 2
dependencies.ShieldingVtxDep.logic    : string     = "[2]"

# The vertex generator group of values 'Tracker1' is only enabled if the layout
# of the geometry is "basic"
dependencies.Tracker1VtxDep.depender : string     = "vertexes:generator@Tracker1"
dependencies.Tracker1VtxDep.slots    : integer[1] = 3
dependencies.Tracker1VtxDep.logic    : string     = "[3]"

###############################################
# Dependencies for various source foil models #
###############################################

# The vertex generator group of values 'SourceFoilBasic' is only enabled if the layout
# of the geometry is "basic" AND the source layout is "basic"
dependencies.SourceFoilBasicVtxDep.depender : string     = "vertexes:generator@SourceFoilBasic"
dependencies.SourceFoilBasicVtxDep.slots    : integer[2] = 3 9
dependencies.SourceFoilBasicVtxDep.logic    : string     = "AND([3],[9])"

# The vertex generator group of values 'SourceFoilRealistic' is only enabled if the layout
# of the geometry is "basic" AND the source layout is "realistic_flat" OR "realistic_snrs1"
dependencies.SourceFoilRealisticVtxDep.depender : string     = "vertexes:generator@SourceFoilRealistic"
dependencies.SourceFoilRealisticVtxDep.slots    : integer[3] = 3 10 11
dependencies.SourceFoilRealisticVtxDep.logic    : string     = "AND([3],OR([10],[11]))"

# The vertex generator group of values 'SourceFoilRealistic/Flat' is only enabled if the layout
# of the geometry is "basic" AND the source layout is "realistic_flat"
dependencies.SourceFoilRealisticFlatVtxDep.depender : string     = "vertexes:generator@SourceFoilRealistic/Flat"
dependencies.SourceFoilRealisticFlatVtxDep.slots    : integer[2] = 3 10
dependencies.SourceFoilRealisticFlatVtxDep.logic    : string     = "AND([3],[10])"

# The vertex generator group of values 'SourceFoilRealistic/SNRS1' is only enabled if the layout
# of the geometry is "basic" AND the source layout is "realistic_snrs1"
dependencies.SourceFoilRealisticSnrs1VtxDep.depender : string     = "vertexes:generator@SourceFoilRealistic/SNRS1"
dependencies.SourceFoilRealisticSnrs1VtxDep.slots    : integer[2] = 3 11
dependencies.SourceFoilRealisticSnrs1VtxDep.logic    : string     = "AND([3],[11])"

###################################################################################
# Dependencies for realistic SDS vertex generation from the Bi207 calibration SDS #
###################################################################################
# Remark: The vertex generator group of values 'Calibration' is only enabled if the calibration 
#         sources are set in the geometry (slot #1), whatever the layout is (legacy or SDS)

# The vertex generator group of values 'Calibration' is only enabled if the calibration system
# is set in the geometry with the legacy simplified Bi207 calibration sources
dependencies.CalibrationLegacyVtxDep.depender : string     = "vertexes:generator@Calibration"
dependencies.CalibrationLegacyVtxDep.slots    : integer[2] = 1 20
dependencies.CalibrationLegacyVtxDep.logic    : string     = "AND([1],[20])"

# The vertex generator group of values 'CalibrationSDS' is only enabled if the calibration system
# is set in the geometry with some deployed SDS calibration source tracks
dependencies.CalibrationSdsVtxDep.depender : string     = "vertexes:generator@CalibrationSDS"
dependencies.CalibrationSdsVtxDep.slots    : integer[8] = 1 30 31 32 33 34 35 36
dependencies.CalibrationSdsVtxDep.logic    : string     = "AND([1],[30],OR([31],[32],[33],[34],[35],[36]))"

# The vertex generator group of values 'CalibrationSDSTrack0' is only enabled if the calibration system
# is set in the geometry with deployed SDS calibration source track 0
dependencies.CalibrationSdsVtxTrack0Dep.depender : string     = "vertexes:generator@CalibrationSDS/Track0"
dependencies.CalibrationSdsVtxTrack0Dep.slots    : integer[3] = 1 30 31 
dependencies.CalibrationSdsVtxTrack0Dep.logic    : string     = "AND([1],[30],[31])"

# The vertex generator group of values 'CalibrationSDSTrack1' is only enabled if the calibration system
# is set in the geometry with deployed SDS calibration source track 1
dependencies.CalibrationSdsVtxTrack1Dep.depender : string     = "vertexes:generator@CalibrationSDS/Track1"
dependencies.CalibrationSdsVtxTrack1Dep.slots    : integer[3] = 1 30 32  
dependencies.CalibrationSdsVtxTrack1Dep.logic    : string     = "AND([1],[30],[32])"

# The vertex generator group of values 'CalibrationSDSTrack2' is only enabled if the calibration system
# is set in the geometry with deployed SDS calibration source track 2
dependencies.CalibrationSdsVtxTrack2Dep.depender : string     = "vertexes:generator@CalibrationSDS/Track2"
dependencies.CalibrationSdsVtxTrack2Dep.slots    : integer[3] = 1 30 33  
dependencies.CalibrationSdsVtxTrack2Dep.logic    : string     = "AND([1],[30],[33])"

# The vertex generator group of values 'CalibrationSDSTrack3' is only enabled if the calibration system
# is set in the geometry with deployed SDS calibration source track 3
dependencies.CalibrationSdsVtxTrack3Dep.depender : string     = "vertexes:generator@CalibrationSDS/Track3"
dependencies.CalibrationSdsVtxTrack3Dep.slots    : integer[3] = 1 30 34  
dependencies.CalibrationSdsVtxTrack3Dep.logic    : string     = "AND([1],[30],[34])"

# The vertex generator group of values 'CalibrationSDSTrack4' is only enabled if the calibration system
# is set in the geometry with deployed SDS calibration source track 4
dependencies.CalibrationSdsVtxTrack4Dep.depender : string     = "vertexes:generator@CalibrationSDS/Track4"
dependencies.CalibrationSdsVtxTrack4Dep.slots    : integer[3] = 1 30 35  
dependencies.CalibrationSdsVtxTrack4Dep.logic    : string     = "AND([1],[30],[35])"

# The vertex generator group of values 'CalibrationSDSTrack5' is only enabled if the calibration system
# is set in the geometry with deployed SDS calibration source track 5
dependencies.CalibrationSdsVtxTrack5Dep.depender : string     = "vertexes:generator@CalibrationSDS/Track5"
dependencies.CalibrationSdsVtxTrack5Dep.slots    : integer[3] = 1 30 36  
dependencies.CalibrationSdsVtxTrack5Dep.logic    : string     = "AND([1],[30],[36])"


##################################################
# Dependencies for specific primaries generators #
##################################################

# The primaries generator group of values  'DBD/Ca48' is only enabled if:
#   * the layout of the geometry is basic
#   * the source layout is basic
#   * the source material is made of Ca48
dependencies.Ca48PrimariesDep.depender : string     = "primary_events:generator@DBD/Ca48"
dependencies.Ca48PrimariesDep.slots    : integer[1] = 4
dependencies.Ca48PrimariesDep.logic    : string     = "[4]"

# The primaries generator group of values  'DBD/Se82' is only enabled if:
#   * the layout of the geometry is basic
#   * the source layout is basic
#   * the source material is made of Se82
dependencies.Se82PrimariesDep.depender : string     = "primary_events:generator@DBD/Se82"
dependencies.Se82PrimariesDep.slots    : integer[2] = 5 12
dependencies.Se82PrimariesDep.logic    : string     = "OR([5],[12])"

# The primaries generator group of values  'DBD/Nd150' is only enabled if:
#   * the layout of the geometry is basic
#   * the source layout is basic
#   * the source material is made of Nd150
dependencies.Nd150PrimariesDep.depender : string     = "primary_events:generator@DBD/Nd150"
dependencies.Nd150PrimariesDep.slots    : integer[1] = 6
dependencies.Nd150PrimariesDep.logic    : string     = "[6]"

# The primaries generator group of values 'DBD/Mo100' is only enabled if:
#   * the layout of the geometry is basic
#   * the source layout is basic
#   * the source material is made of Mo100
dependencies.Mo100PrimariesDep.depender : string     = "primary_events:generator@DBD/Mo100"
dependencies.Mo100PrimariesDep.slots    : integer[1] = 7
dependencies.Mo100PrimariesDep.logic    : string     = "[7]"

# The primaries generator group of values 'DBD/Sn124' is only enabled if:
#   * the layout of the geometry is basic
#   * the source layout is basic
#   * the source material is made of Sn124
dependencies.Sn124PrimariesDep.depender : string     = "primary_events:generator@DBD/Sn124"
dependencies.Sn124PrimariesDep.slots    : integer[1] = 8
dependencies.Sn124PrimariesDep.logic    : string     = "[8]"

# end