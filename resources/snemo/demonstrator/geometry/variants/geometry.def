#@description The definitions for variant parameters related to the geometry of the demonstrator module
#@key_label   "name"
#@meta_label  "type"

[name="demonstrator.geometry.basic.VM"  type="variant"]
  #@config A variant model describing the set of parameters associated to the SN demonstrator module basic layout
  display_name       : string = "Basic layout"
  terse_description  : string = "The configuration parameters for the demonstrator module basic layout"
  parameters : string[4] = "magnetic_field" "source_layout" "source_calibration" "shielding"
    parameters.magnetic_field.model       : string = "magnetic_field.on_off.PM"
    parameters.magnetic_field.description : string = "The activation flag of the magnetic field"
    parameters.source_layout.model       : string = "source_betabeta.layout.PM"
    parameters.source_layout.description : string = "The layout of the source foil"
    parameters.source_calibration.model       : string = "source_calibration.off_on.PM"
    parameters.source_calibration.description : string = "The activation flag of the source calibration system"
    parameters.shielding.model       : string = "datatools::basic::on_off.PM"
    parameters.shielding.description : string = "The activation flag of the shielding"


[name="demonstrator.geometry.half_commissioning.gap.PM" type="parameter"]
  #@config A parameter model describing a distance
  display_name        : string = "Distance"
  terse_description   : string = "A distance"
  mutability          : string = "variable"
    variable.mode : string = "interval"
  type : string = "real"
    real.unit_label     : string = "length"
    real.preferred_unit : string = "mm"
    real.domain         : string = "[0.25 mm, 1 m]"
    real.default        : real as length = 0.25 mm


[name="demonstrator.geometry.half_commissioning.VM" type="variant"]
  #@config A variant model describing the set of parameters associated to the SN demonstrator half module commissioning layout
  display_name       : string = "Half module commissioning layout"
  terse_description  : string = "The configuration parameters for the demonstrator half module commissioning layout"
  parameters : string[1] = "gap"
    parameters.gap.model       : string = "demonstrator.geometry.half_commissioning.gap.PM"
    parameters.gap.description : string = "The calibration source distance to closing plate"


[name="demonstrator.geometry.layout.PM" type="parameter"]
  #@config A parameter model describing the layout of the demonstrator module
  display_name       : string = "Demonstrator layout"
  terse_description  : string = "The demonstrator layout"
  mutability : string = "variable"
    variable.mode : string = "enumeration"
  type : string = "string"
    string.default            : string = "Basic"
    string.enumerated.size    : integer = 2
      string.enumerated_0.value : string = "Basic"
      string.enumerated_0.variant : string = "if_basic"
      string.enumerated_1.value : string = "HalfCommissioning"
      string.enumerated_1.variant : string = "if_half_commissioning"
  variants : string[2] = "if_basic" "if_half_commissioning"
    variants.if_basic.model       : string = "demonstrator.geometry.basic.VM"
    variants.if_basic.description : string = "Set of parameters for basic demonstrator layout"
    variants.if_half_commissioning.model       : string = "demonstrator.geometry.half_commissioning.VM"
    variants.if_half_commissioning.description : string = "Set of parameters for demonstrator half module commissioning layout"


[name="demonstrator.geometry.calo_tightness_film_thickness.PM" type="parameter"]
  #@config A parameter model describing a distance
  display_name        : string = "Thickness"
  terse_description   : string = "A thickness"
  mutability : string = "variable"
    variable.mode : string = "interval"
  type : string = "real"
    real.unit_label     : string = "length"
    real.preferred_unit : string = "um"
    real.domain         : string = "[0.0 um, 100 um]"
    real.default        : real as length = 25 um


[name="demonstrator.geometry.tracking_gas_material.PM" type="parameter"]
  #@config A parameter model describing a tracking gas material
  display_name        : string = "Tracking gas material"
  terse_description   : string = "A material"
  mutability : string = "variable"
    variable.mode : string = "enumeration"
  type : string = "string"
    string.default            : string = "HeliumMix"
    string.enumerated.size    : integer = 4
      string.enumerated_0.value   : string = "HeliumMix"
      string.enumerated_0.variant : string = "if_helium"
      string.enumerated_1.value   : string = "ArgonMix"
      string.enumerated_1.variant : string = "if_argon"
      string.enumerated_2.value   : string = "Nemo3"
      string.enumerated_2.variant : string = "if_nemo3"
      string.enumerated_3.value   : string = "Nemo3Bug"
      string.enumerated_3.variant : string = "if_nemo3_bug"
  variants : string[4] = "if_helium" "if_argon" "if_nemo3" "if_nemo3_bug" 
    variants.if_helium.model          : string = "datatools::basic::is_on.VM"
    variants.if_helium.description    : string = "SuperNEMO Helium+Ethanol+Argon tracking gas mix"
    variants.if_argon.model           : string = "datatools::basic::is_on.VM"
    variants.if_argon.description     : string = "SuperNEMO Argon+Ethanol tracking gas mix"
    variants.if_nemo3.model           : string = "datatools::basic::is_on.VM"
    variants.if_nemo3.description     : string = "NEMO3 He+Ethanol+Argon tracking gas mix"
    variants.if_nemo3_bug.model       : string = "datatools::basic::is_on.VM"
    variants.if_nemo3_bug.description : string = "NEMO3 He+Ethanol+Argon bad tracking gas mix (legacy bug)"
 

[name="geometry.VM" type="variant"]
  #@config A variant model describing the set of parameters associated to the SN demonstrator module geometry
  display_name       : string = "Geometry"
  terse_description  : string = "The configuration parameters for the demonstrator geometry"
  parameters : string[3] = "layout" "calo_film_thickness" "tracking_gas_material"
    parameters.layout.model       : string = "demonstrator.geometry.layout.PM"
    parameters.layout.description : string = "The geometry layout of the demonstrator module"
    parameters.calo_film_thickness.model       : string = "demonstrator.geometry.calo_tightness_film_thickness.PM"
    parameters.calo_film_thickness.description : string = "The thickness of the calorimeter tightness film"
    parameters.tracking_gas_material.model       : string = "demonstrator.geometry.tracking_gas_material.PM"
    parameters.tracking_gas_material.description : string = "The tracking gas material"

