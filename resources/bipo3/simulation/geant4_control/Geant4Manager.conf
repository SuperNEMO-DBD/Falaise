#@description Configuration of the BiPo3 Geant4 simulation engine
#@key_label   "name"
#@meta_label  ""

[name="manager"]
#@description Geant4 simulation manager logging priority
logging.priority : string = "notice"


[name="geometry"]
manager.config : string as path = "@falaise:bipo3/geometry/GeometryManager.conf"


[name="vertex_generator"]
manager.config : string as path = "@falaise:bipo3/geometry/VertexGeneratorManager.conf";


[name="event_generator"]
#@config Configuration of the event generator manager
manager.config : string as path = "@falaise:bipo3/simulation/geant4_control/GenBBManager.conf"


[name="detector_construction"]
  #@config Main configuration file for the detector construction user object:
  logging.priority : string = "trace"
  gdml.tmp_dir : string as path = "/tmp/${USER}/bipo3_mc_g4.d"
  gdml.schema_location : string = "local"
  hit_processor_factory.configs : string[1] as path = \
    "@falaise:bipo3/simulation/geant4_control/step_hit_processors.conf"
  sensitive.detectors : string[1] = "scin_SD"
    sensitive.scin_SD.debug                          : boolean = 0
    sensitive.scin_SD.hits_buffer_capacity           : integer = 200
    sensitive.scin_SD.record_alpha_quenching         : boolean = 1
    sensitive.scin_SD.record_track_id                : boolean = 1
    sensitive.scin_SD.record_primary_particle        : boolean = 1
    sensitive.scin_SD.drop_zero_energy_deposit_steps : boolean = 0
    sensitive.scin_SD.track_gamma                    : boolean = 1
  limits.list_of_volumes : string[3] = \
    "source_sample.model.log" \
    "source_gas_gap.model.log" \
    "scin_block.model.log"
    limits.max_step.source_sample.model.log  : real as length =   5 um
    limits.max_step.source_gas_gap.model.log : real as length = 100 um
    limits.max_step.scin_block.model.log     : real as length = 100 um
  regions : string[2] = "scintillator"  "source"
    regions.scintillator.volumes : string[1] = "scin_block.model.log"
    regions.source.volumes       : string[1] = "source_sample.model.log"
  using_magnetic_field : boolean = 0


[name="physics_list"]
  #@config Main configuration file for the physics lists
  logging.priority : string = "debug"
  physics_constructors.names : string[2] = "particles" "em"
    physics_constructors.particles.id     : string = "mctools::g4::particles_physics_constructor"
    physics_constructors.particles.config : string as path = "@falaise:bipo3/simulation/geant4_control/processes/particles.conf"
  physics_constructors.em.id     : string = "mctools::g4::em_physics_constructor"
  physics_constructors.em.config : string as path = "@falaise:bipo3/simulation/geant4_control/processes/em.conf"
  using_production_cuts : boolean = 1
    production_cuts.low_energy : real as energy  = 1 keV
    production_cuts.high_energy : real as energy = 100 MeV
    production_cuts.default_value : real as length = 1.0 mm
    production_cuts.gamma : real as length = 1.0 mm
    production_cuts.electron : real as length = 1.0 mm
    production_cuts.positron : real as length = 1.0 mm
    production_cuts.proton : real as length = 1.0 mm
    production_cuts.regions : string [2] = "scintillator" "source"
      production_cuts.regions.scintillator.gamma : real as length = 5.0 mm
      production_cuts.regions.source.electron    : real as length = 50 um


[name="run_action"]
  #@config Configuration of the run action
  logging.priority : string = "warning"
  number_events_modulo : integer = 100
  file.save : boolean = 1
  file.no_preserve : boolean = 1
  file.format : string = "xml"
  file.prefix : string = "bipo3_"


[name="event_action"]
  #@config Configuration of the event action
  logging.priority : string = "warning"


[name="primary_generator_action"]
  #@config Configuration of the primary generator action
  logging.priority : string = "warning"


[name="tracking_action"]
  #@config Configuration of the tracking action
  logging.priority : string = "warning"


[name="stepping_action"]
  #@config Configuration of the stepping action
  logging.priority : string = "warning"


[name="stacking_action"]
  #@config Configuration of the stacking action
  logging.priority : string = "warning"

