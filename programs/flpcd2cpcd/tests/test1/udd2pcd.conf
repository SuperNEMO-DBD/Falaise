#@description SuperNEMO demonstrator UDD->pCD test pipeline 
#@key_label  "name"
#@meta_label "type"

[name="flreconstruct" type="flreconstruct::section"]
# experimentalSetupURN   : string = "urn:snemo:demonstrator:setup:2.0"
reconstructionSetupURN : string = "urn:snemo:demonstrator:reconstruction:3.0"

numberOfEvents : integer = 100
moduloEvents   : integer = 1

[name="flreconstruct.plugins" type="flreconstruct::section"]
  #@config Module load section
  # plugins : string[1] = "xxxPlugin"
   
[name="flreconstruct.variantService" type="flreconstruct::section"]
profile : string as path = "${FLWORKDIR}/variant.profile"      
   
[name="pipeline" type="dpp::chain_module"]
  #@config Must define "pipeline" as this is the module flreconstruct will use
  modules : string[2] = "udd2pcd" "dump"

[name="udd2pcd" type="snemo::processing::udd2pcd_module"]
  #@config The UDD to pCD module
  logging.priority : string = "debug"	
  UDD_label : string = "UDD"
  pCD_label : string = "pCD"
  calo_adc2volt : real = 6.103516e-4
  calo_sampling_frequency_ghz : real = 2.56
  calo_postrigger_ns : real = 25.0
  calo_baseline_nsamples : integer = 16
  calo_charge_integration_nsamples : integer = 992
  calo_charge_integration_nsamples_before_peak : integer = 64
  calo_time_cfd_ratio : real = 0.25
  calo_discard_empty_waveform : boolean = false
  calo_method : string = "fwmeas"	
  tracker_method : string = "basic_cluster"

[name="dump" type="dpp::dump_module"]
  #@config Dump module
  output : string = "cout"